{% extends 'adminNavBar.html' %}
{% load static %}
{% block title %} Library Management System {% endblock %}
{% block css %}
{% endblock %}
{% block body %}
<div class="container mt-4">
    <h1 class="text-center"><u>SÁCH</u></h1>
    <table class="table table-hover" id="example">
        <thead>
            <tr>
                <th>Ảnh</th>
                <th>Tên</th>
                <th>Tác Giả</th>
                <th>NXB</th>
                <th>Thể Loại</th>  
                <th>Mô Tả</th>
                <th>Số Lượng</th>
                <th>Available</th>
                <th>Sửa</th>             
                <th>Xóa</th>
            </tr>
        </thead>
        <tbody>
            {% for book in books %}
            <tr>
                <td><img src="{{book.image.url}}" style="width:100px;height: 100px;border-radius: 10px;"></td>
                <td>{{book.name}}</td>
                <td>{{book.author}}</td>
                <td>{{book.publisher.name}}</td>             
                <td>{{book.bookGenresStr}}</td>
                <td>{{book.description}}</td>
                <td>{{book.quantity}}</td>
                <td>{{book.available}}</td>
                <td><a href="/update_book/{{book.id}}/" onclick="javascript:storeData()" class="btn btn-primary">Sửa</a></td>
                <td><a href="/delete_book/{{book.id}}/" class="btn btn-danger" onclick="return confirm('Bạn có chắc muốn xóa sách này?')">Xóa</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% if error %}
    <script>
        alert("Bạn không thể xóa dữ liệu này, vì nó có liên quan đến dữ liệu khác.")
        document.location = "/view_books/"
    </script>
    {% endif %}
    </div>
{% endblock %}

